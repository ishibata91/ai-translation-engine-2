<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>Translation Flow - Mocks</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@latest/dist/full.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            fetch('components/sidebar.html')
                .then(res => res.text())
                .then(data => {
                    document.getElementById('sidebar-container').innerHTML = data;
                });
            fetch('components/log_viewer.html')
                .then(res => res.text())
                .then(data => {
                    document.getElementById('log-container').innerHTML = data;
                });

            // タブの切り替えロジック
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content-panel');

            tabs.forEach((tab, index) => {
                tab.addEventListener('click', () => {
                    // 全てのタブからアクティブを外す
                    tabs.forEach(t => t.classList.remove('tab-active'));
                    // 全てのコンテンツを非表示
                    contents.forEach(c => c.classList.add('hidden'));

                    // クリックされたタブをアクティブに
                    tab.classList.add('tab-active');
                    // 対応するコンテンツを表示
                    contents[index].classList.remove('hidden');
                });
            });
        });
    </script>
</head>

<body class="flex flex-col h-screen overflow-hidden">

    <div class="flex flex-1 h-full">

        <!-- 左サブナビゲーション (インポート先) -->
        <div id="sidebar-container" class="w-64 bg-base-200 shrink-0">
            <!-- components/sidebar.html -->
        </div>

        <!-- 中央メインコンテンツ -->
        <div class="flex flex-col w-full p-4 gap-6 overflow-y-auto bg-base-300">

            <!-- ヘッダー部分 -->
            <div class="flex justify-between items-center w-full bg-base-100 p-4 rounded-xl shadow-sm">
                <div class="flex items-center gap-4">
                    <span class="text-2xl font-bold">翻訳プロジェクト: Skyrim.esm</span>
                    <span class="badge badge-primary badge-lg">進行中</span>
                </div>
                <button class="btn btn-outline btn-sm">プロジェクト設定</button>
            </div>

            <!-- ステッパー (全体の進捗) -->
            <div class="bg-base-100 p-4 rounded-xl shadow-sm">
                <ul class="steps w-full">
                    <li class="step step-primary">用語</li>
                    <li class="step step-primary">ペルソナ生成</li>
                    <li class="step step-primary">要約</li>
                    <li class="step step-primary">翻訳</li>
                    <li class="step">エクスポート</li>
                </ul>
            </div>

            <div class="bg-base-100 rounded-xl shadow-sm flex flex-col flex-1 min-h-0">
                <!-- タブナビゲーション -->
                <div role="tablist" class="tabs tabs-bordered w-full pt-2">
                    <button role="tab" class="tab tab-active">用語</button>
                    <button role="tab" class="tab">ペルソナ生成</button>
                    <button role="tab" class="tab">要約</button>
                    <button role="tab" class="tab">翻訳</button>
                    <button role="tab" class="tab">エクスポート</button>
                </div>

                <!-- ▼▼▼ タブ・コンテンツ群 ▼▼▼ -->
                <div class="flex flex-col p-4 flex-1 min-h-0">

                    <!-- 1. 用語パネル (Terminology) -->
                    <div class="tab-content-panel flex flex-col gap-4 h-full">
                        <div class="alert alert-info shadow-sm">
                            <span>Mod内から固有名詞や特殊用語を抽出しました。辞書と照合し、翻訳を確定してください。</span>
                            <div class="flex-none">
                                <button class="btn btn-sm btn-primary">辞書から一括適用</button>
                            </div>
                        </div>
                        <div class="overflow-y-auto border rounded-xl flex-1 bg-base-100">
                            <table class="table table-zebra table-pin-rows w-full">
                                <thead>
                                    <tr>
                                        <th>原文 (発見された用語)</th>
                                        <th>和訳 (適用後)</th>
                                        <th>辞書マッチ</th>
                                        <th>状態</th>
                                        <th>アクション</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="font-mono">Whiterun</td>
                                        <td><input type="text" value="ホワイトラン"
                                                class="input input-sm input-bordered w-full" /></td>
                                        <td><span class="badge badge-success badge-sm">完全一致</span></td>
                                        <td><span class="badge badge-success badge-sm">確定</span></td>
                                        <td><button class="btn btn-ghost btn-xs">編集</button></td>
                                    </tr>
                                    <tr>
                                        <td class="font-mono">Dragonborn</td>
                                        <td><input type="text" value="ドラゴンボーン"
                                                class="input input-sm input-bordered w-full" /></td>
                                        <td><span class="badge badge-success badge-sm">完全一致</span></td>
                                        <td><span class="badge badge-success badge-sm">確定</span></td>
                                        <td><button class="btn btn-ghost btn-xs">編集</button></td>
                                    </tr>
                                    <tr>
                                        <td class="font-mono">Skyforge Steel</td>
                                        <td><input type="text" value="スカイフォージの鋼鉄"
                                                class="input input-sm input-bordered w-full" /></td>
                                        <td><span class="badge badge-warning badge-sm">部分一致</span></td>
                                        <td><span class="badge badge-ghost badge-sm">未確定</span></td>
                                        <td><button class="btn btn-ghost btn-xs">編集</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="flex justify-end gap-2">
                            <button class="btn btn-primary">用語を確定して次へ</button>
                        </div>
                    </div>

                    <!-- 2. ペルソナ生成パネル (Persona) -->
                    <div class="tab-content-panel hidden flex flex-col gap-4 h-full">
                        <div class="alert alert-info shadow-sm">
                            <span>検出されたNPCのペルソナ（性格・口調）を生成します。マスター辞書に存在すればキャッシュを利用します。</span>
                            <div class="flex-none">
                                <button class="btn btn-sm btn-primary">LLMで一括生成</button>
                            </div>
                        </div>
                        <div class="flex gap-4 flex-1 h-full min-h-0">
                            <!-- 左：NPCリスト -->
                            <div class="w-1/3 border rounded-xl bg-base-100 overflow-y-auto">
                                <ul class="menu w-full bg-base-100">
                                    <li class="menu-title">NPC一覧 (24)</li>
                                    <li><a class="active">Ulfric Stormcloak <span
                                                class="badge badge-success badge-sm ml-auto">完了</span></a></li>
                                    <li><a>General Tullius <span
                                                class="badge badge-success badge-sm ml-auto">完了</span></a></li>
                                    <li><a>Elisif the Fair <span
                                                class="badge badge-warning badge-sm ml-auto">生成中</span></a></li>
                                    <li><a>Whiterun Guard <span
                                                class="badge badge-ghost badge-sm ml-auto">未生成</span></a></li>
                                </ul>
                            </div>
                            <!-- 右：ペルソナ詳細 -->
                            <div class="w-2/3 border rounded-xl bg-base-100 p-4 flex flex-col gap-4">
                                <h3 class="text-xl font-bold border-b pb-2">Ulfric Stormcloak (0001414D)</h3>
                                <div class="flex gap-2">
                                    <span class="badge badge-outline">Race: Nord</span>
                                    <span class="badge badge-outline">Sex: Male</span>
                                    <span class="badge badge-outline">Class: Warrior</span>
                                </div>
                                <div class="form-control flex-1 flex flex-col min-h-0">
                                    <label class="label"><span class="label-text font-bold">生成されたペルソナ情報
                                            (プロンプト動的注入用)</span></label>
                                    <textarea class="textarea textarea-bordered flex-1 text-base leading-relaxed">誇り高く、カリスマ性のあるストームクロークの反乱軍リーダー。雄弁で威厳のある口調。
一人称: 私、俺
二人称: お前、貴様
特徴: スカイリムの独立とノルドの誇りを強調する。「～だ」「～だろう」「～なのだ」といった断定的で力強い語尾を多用する。若者には厳しくも期待を込めて接する。</textarea>
                                </div>
                                <div class="flex justify-end gap-2 mt-2">
                                    <button class="btn btn-outline btn-sm">再生成</button>
                                    <button class="btn btn-secondary btn-sm">保存</button>
                                </div>
                            </div>
                        </div>
                        <div class="flex justify-end gap-2">
                            <button class="btn btn-primary">ペルソナを確定して次へ</button>
                        </div>
                    </div>

                    <!-- 3. 要約パネル (Summary) -->
                    <div class="tab-content-panel hidden flex flex-col gap-4 h-full">
                        <div class="alert alert-info shadow-sm">
                            <span>長文の書籍や連続する会話シーンの要約を生成し、翻訳時のコンテキストとして利用します。</span>
                            <div class="flex-none">
                                <button class="btn btn-sm btn-primary">要約の生成開始</button>
                            </div>
                        </div>
                        <div class="overflow-y-auto border rounded-xl flex-1 bg-base-100">
                            <table class="table table-zebra table-pin-rows w-full">
                                <thead>
                                    <tr>
                                        <th>種別</th>
                                        <th>対象レコード/シーン</th>
                                        <th>状態</th>
                                        <th>要約内容</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="badge badge-primary badge-sm">Book</span></td>
                                        <td>The Lusty Argonian Maid, v1</td>
                                        <td><span class="badge badge-success badge-sm">完了</span></td>
                                        <td class="text-sm">アルゴニアンのメイドであるリフトスと、主人のクラシウス・キュリオの際どい会話劇。比喩表現が多用される。</td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge badge-secondary badge-sm">Dialog</span></td>
                                        <td>MQ101_UlfricExecution</td>
                                        <td><span class="badge badge-success badge-sm">完了</span></td>
                                        <td class="text-sm">ヘルゲンでの処刑シーン。帝国軍によるストームクローク兵の処刑と、突然のドラゴンの襲撃。緊迫した雰囲気。</td>
                                    </tr>
                                    <tr>
                                        <td><span class="badge badge-secondary badge-sm">Dialog</span></td>
                                        <td>MQ102_RiverwoodArrive</td>
                                        <td><span class="badge badge-ghost badge-sm">未生成</span></td>
                                        <td class="text-gray-400 italic">（未生成）</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="flex justify-end gap-2">
                            <button class="btn btn-primary">要約を確定して次へ</button>
                        </div>
                    </div>

                    <!-- 4. 翻訳パネル (Translation) -->
                    <div class="tab-content-panel hidden flex gap-4 h-full min-h-0">
                        <!-- 左ペイン: 翻訳対象リスト -->
                        <div class="w-1/2 flex flex-col border rounded-xl bg-base-100 overflow-hidden">
                            <div class="p-3 border-b flex flex-col gap-2 bg-base-200">
                                <div class="text-sm font-bold">レコード一覧 (全 1,200 件)</div>
                                <div class="flex gap-2">
                                    <input type="text" placeholder="原文・訳文を検索..."
                                        class="input input-bordered w-full input-sm" />
                                    <select class="select select-bordered select-sm">
                                        <option>未翻訳 (800)</option>
                                        <option>要確認 (15)</option>
                                        <option>すべて表示</option>
                                    </select>
                                </div>
                            </div>

                            <div class="overflow-y-auto flex-1">
                                <table class="table table-zebra table-pin-rows w-full select-none table-sm">
                                    <thead>
                                        <tr>
                                            <th>EDID</th>
                                            <th>原文</th>
                                            <th>状態</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="hover cursor-pointer bg-base-300">
                                            <td>0001A2B4</td>
                                            <td class="truncate max-w-[200px]">Then I took an arrow in the knee.</td>
                                            <td><span class="badge badge-warning badge-xs">要確認</span></td>
                                        </tr>
                                        <tr class="hover cursor-pointer">
                                            <td>0001A2B3</td>
                                            <td class="truncate max-w-[200px]">I used to be an adventurer like you.</td>
                                            <td><span class="badge badge-success badge-xs">完了</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="p-2 border-t flex justify-center bg-base-200">
                                <div class="join">
                                    <button class="join-item btn btn-xs">«</button>
                                    <button class="join-item btn btn-xs">Page 1</button>
                                    <button class="join-item btn btn-xs">»</button>
                                </div>
                            </div>
                        </div>

                        <!-- 右ペイン: 翻訳コンソール (詳細) -->
                        <div class="w-1/2 flex flex-col rounded-xl border bg-base-100 overflow-y-auto relative">
                            <!-- ヘッダーアクション -->
                            <div
                                class="sticky top-0 z-10 bg-base-100 border-b p-3 flex justify-between items-center shadow-sm">
                                <span class="font-bold">自動翻訳コンソール</span>
                                <div class="flex gap-2">
                                    <button class="btn btn-outline btn-xs">自動進行を開始</button>
                                </div>
                            </div>

                            <div class="p-4 flex flex-col gap-4">
                                <div class="flex justify-between items-center text-sm">
                                    <span class="badge badge-outline">Record: 0001A2B4</span>
                                </div>

                                <!-- コンテキスト情報 -->
                                <div class="collapse collapse-arrow bg-base-200 border border-base-300 rounded-box">
                                    <input type="checkbox" checked />
                                    <div class="collapse-title font-bold text-sm">
                                        適用されたコンテキスト (Context DTO)
                                    </div>
                                    <div class="collapse-content flex flex-col gap-2">
                                        <div
                                            class="alert shadow-sm p-2 flex-row justify-start gap-4 rounded-lg bg-base-100">
                                            <span class="badge badge-primary badge-sm">要約</span>
                                            <span class="text-xs">衛兵が過去の冒険譚を語るシーン。</span>
                                        </div>
                                        <div
                                            class="alert shadow-sm p-2 flex-row justify-start gap-4 rounded-lg bg-base-100">
                                            <span class="badge badge-secondary badge-sm">ペルソナ</span>
                                            <div class="flex flex-col">
                                                <span class="text-xs font-bold">MaleGuard</span>
                                                <span class="text-xs">ぶっきらぼうだが親しみやすい口調。「～だ」</span>
                                            </div>
                                        </div>
                                        <div
                                            class="alert shadow-sm p-2 flex-row justify-start gap-4 rounded-lg bg-base-100">
                                            <span class="badge badge-accent badge-sm">用語</span>
                                            <span class="text-xs font-mono">arrow in the knee</span> <span
                                                class="text-xs">➡️ 膝に矢を受けて</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- 原文と翻訳 -->
                                <div class="flex flex-col gap-1">
                                    <label class="label pb-0"><span class="label-text font-bold">原文
                                            (Source)</span></label>
                                    <div class="p-3 bg-base-200 rounded-lg text-md min-h-[4rem]">
                                        Then I took an arrow in the knee.
                                    </div>
                                </div>

                                <div class="flex flex-col gap-1 flex-1 relative">
                                    <div class="flex justify-between items-end">
                                        <label class="label pb-0"><span class="label-text font-bold">訳文
                                                (Target)</span></label>
                                        <span class="text-xs text-info font-bold">AI提案 (Gemini 1.5 Pro)</span>
                                    </div>
                                    <textarea
                                        class="textarea textarea-bordered textarea-primary flex-1 h-32 text-md leading-relaxed">そして膝に矢を受けてしまってな。</textarea>
                                </div>

                                <!-- アクション -->
                                <div class="flex justify-end gap-2 mt-4 pt-4 border-t">
                                    <button class="btn btn-outline btn-error btn-sm mr-auto">翻訳を除外</button>
                                    <button class="btn btn-outline btn-primary btn-sm">再生成</button>
                                    <button class="btn btn-success btn-sm">確定して次へ (Enter)</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 5. エクスポートパネル (Export) -->
                    <div class="tab-content-panel hidden flex flex-col gap-4 h-full">
                        <div class="alert alert-success shadow-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>翻訳フェーズが完了しました。成果物をエクスポートできます。</span>
                        </div>
                        <div class="card bg-base-100 border flex-1 shadow-sm">
                            <div class="card-body items-center text-center justify-center gap-6">
                                <h2 class="card-title text-2xl font-bold">エクスポート設定</h2>

                                <div class="form-control w-full max-w-md">
                                    <label class="label">
                                        <span class="label-text font-bold">出力形式</span>
                                    </label>
                                    <select class="select select-bordered w-full">
                                        <option>xTranslator 用 XML (.xml) - 推奨</option>
                                        <option>テキスト一覧 (.csv)</option>
                                        <option>JSON形式 (.json)</option>
                                    </select>
                                </div>

                                <div class="form-control w-full max-w-md text-left bg-base-200 p-4 rounded-xl">
                                    <label class="label cursor-pointer justify-start gap-4">
                                        <input type="checkbox" checked="checked" class="checkbox checkbox-primary" />
                                        <span class="label-text">未翻訳の行は原文を保持する</span>
                                    </label>
                                    <label class="label cursor-pointer justify-start gap-4 mt-2">
                                        <input type="checkbox" class="checkbox checkbox-primary" />
                                        <span class="label-text">翻訳フラグを「Validated (緑)」に設定する</span>
                                    </label>
                                </div>

                                <div class="card-actions mt-6 w-full max-w-md flex flex-col gap-4">
                                    <button class="btn btn-primary btn-lg w-full">成果物をダウンロード</button>
                                    <button class="btn btn-outline btn-sm w-full">プロジェクトをアーカイブ</button>
                                </div>
                                <div class="text-sm text-gray-400 mt-4">
                                    最終更新: 2026/02/26 23:09
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>

    <!-- ログビューア (インポート先) -->
    <div id="log-container" class="shrink-0">
        <!-- components/log_viewer.html -->
    </div>

</body>

</html>